<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="user-scalable=no, initial-scale=1.0, maximum-scale=1.0, width=device-width">
	<meta name="apple-mobile-web-app-capable" content="yes">
	<meta content="black" name="apple-mobile-web-app-status-bar-style">
	<meta name="format-detection" content="telephone=no">
	<meta content="telephone=no" name="format-detection">
	<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <link rel="stylesheet" href="assets/stylesheets/style.css" type="text/css" /> 
    <script language="javascript" type="text/javascript" src="./assets/javascript/size.js"></script>
    <script language="javascript" type="text/javascript" src="./assets/javascript/jquery-2.1.4.min.js"></script>
    <script  language="javascript" type="text/javascript" src="./assets/javascript/tools.js"></script>
    <title>demo样板</title>
    <style>
        body{background: #aaa;}
        .cbox{ width: 3.25rem; border:.05rem solid rgba(255,0,0,.1);  margin: 0 auto; }
        .cbox canvas{ max-width: 100%; margin: 0 auto;}
        .imb{ position: fixed; left: 0; top: 0; background: #ccc; padding: 10px; width: 3rem;}
    </style>
</head>
<body>
        <!-- <div class="imb"><img src="" class="showimg" id="J_imga"></div> -->
        <div class="cbox"><canvas id="J_canvas"></canvas></div>
    <script>
        rem = window.rem;
        var steps = [
                {type:"img",url:"./img/head1.jpg",width:1*rem,height:1*rem,left:0,top:0},
                {type:"img",url:"./img/head1.jpg",width:1*rem,height:1*rem,left:rem*1.5,top:0,radius:.5*rem},
                {type:"fillrect",width:rem*2,height:rem*.5,fillstyle:"#ffffff",left:.25*rem,top:1.2*rem},
                {type:"fillrect",width:rem*2,height:rem*.5,fillstyle:"#ffffff",left:.25*rem,top:1.9*rem,radius:.06*rem},
                {type:"text",text:"正常左对齐字段",align:"left",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:2.6*rem},
                {type:"text",text:"正常居中对齐字段",align:"center",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:3*rem},
                {type:"text",text:"正常右对齐字段",align:"right",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:3.4*rem},
                {type:"text",text:"正常左对齐字段加粗",align:"left",weight:"bold",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:3.8*rem},
                {type:"text",text:"正常长字段正常长字段正常长字段正常长字段正常长字段正常",align:"left",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:4.2*rem},
                {type:"text",text:"行高自定义正常长字段正常长字段正常长字段正常长字段正常长字段正常长字段",align:"left",fontsize:.2*rem,lineheight:.24*rem,color:"#ffffff",width:3.15*rem,left:0,top:5*rem}
            ],
            canvas_data = {
                "id":"J_canvas",
                "rate":2,
                "width":3.15*window.rem,
                "height":6.2*rem,
                "steps":steps,
                "callback":function(res){
                    console.log(4,res) 
                    // $('#J_imga').attr('src',res.data)
                }
            }
        var mm = new zshcanvas(canvas_data);

        var addr = [
        {type:"text",text:"后添加正常右对齐字段",align:"right",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:5.8*rem}
        ]

        setTimeout(function(){
            mm.addsteps(addr);
        },2000)
        
        var rearr = [
            {type:"text",text:"重新渲染正常左对齐字段加粗",align:"left",weight:"bold",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:3.8*rem},
            {type:"text",text:"正常长字段正常长字段正常长字段正常长字段正常长字段正常",align:"left",fontsize:.2*rem,color:"#ffffff",width:3.15*rem,left:0,top:4.2*rem},
            {type:"text",text:"行高自定义正常长字段正常长字段正常长字段正常长字段正常长字段正常长字段",align:"left",fontsize:.2*rem,lineheight:.24*rem,color:"#ffffff",width:3.15*rem,left:0,top:5*rem}
        ]
        setTimeout(function(){
            mm.resetsteps(rearr);
        },4000)
    </script>
</body>
</html>
